<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '///gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https:///css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Android symbols - Unity 手册">
<title>Android symbols - Unity 手册</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="description" content="To help you debug your application, Unity can generate a package that contains symbol files for native Unity libraries. Symbol files contain a table that translates active memory addresses into information you can use, like a method name. The translation process is called symbolication. You can upload a symbols package to the Google Play Console to see a human-readable stack trace on the Android Vitals dashboard.">
<meta property="og:description" content="To help you debug your application, Unity can generate a package that contains symbol files for native Unity libraries. Symbol files contain a table that translates active memory addresses into information you can use, like a method name. The translation process is called symbolication. You can upload a symbols package to the Google Play Console to see a human-readable stack trace on the Android Vitals dashboard.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'android-symbols';
      if(!page) page = 'index';
      var version = '2020.3';
      var docs_versions = [{version: '2022.1',version_string: '2022.1',supported: true},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2020.3/Manual/android-symbols.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2020.3/Manual/android-symbols.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2020.3/Manual/android-symbols.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2020.3/Manual/android-symbols.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2020.3/Manual/android-symbols.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2020.3/Manual/android-symbols.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2020.3/Manual/android-symbols.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2020.3/Documentation/Manual/android-symbols.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="///ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/android-symbols.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/android-symbols.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/android-symbols.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/android-symbols.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/android-symbols.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/android-symbols.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/android-symbols.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/android-symbols.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/android-symbols.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/android-symbols.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/android-symbols.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/android-symbols.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/android-symbols.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/android-symbols.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/android-symbols.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/android-symbols.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/android-symbols.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/android-symbols.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/android-symbols.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/android-symbols.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2020.3/Documentation/Manual/android-symbols.html">English</a></li>
<li><a data-lang="cn" href="/cn/2020.3/Manual/android-symbols.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2020.3/Manual/android-symbols.html">日本語</a></li>
<li><a data-lang="es" href="/es/2020.3/Manual/android-symbols.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2020.3/Manual/android-symbols.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2020.3/Manual/android-symbols.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/android-symbols.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/android-symbols.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/android-symbols.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/android-symbols.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/android-symbols.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/android-symbols.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/android-symbols.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/android-symbols.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/android-symbols.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/android-symbols.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/android-symbols.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/android-symbols.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/android-symbols.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/android-symbols.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/android-symbols.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/android-symbols.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/android-symbols.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/android-symbols.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/android-symbols.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/android-symbols.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity 用户手册 2020.3 (LTS)</a></li>
<li><a href="PlatformSpecific.html">平台开发</a></li>
<li><a href="android.html">Android</a></li>
<li><a href="android-BuildProcess.html">构建 Android 应用程序</a></li>
<li>Android symbols</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="android-AppPatching.html"></a></span><div class="tip">为应用程序打补丁以实现快速开发迭代</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="Android-SinglePassStereoRendering.html"></a></span><div class="tip">Android 单通道立体渲染</div>
</div>
</div></div>
<h1>Android symbols</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>To help you debug your application, Unity can generate a package that contains symbol files for native Unity libraries. Symbol files contain a table that translates active memory addresses into information you can use, like a method name. The translation process is called symbolication. You can upload a symbols package to the Google Play Console to see a human-readable stack trace on the <a href="https://developer.android.com/topic/performance/vitals">Android Vitals</a> dashboard.</p>

<p>There are two types of symbol files:</p>

<ul>
<li>Public: A small file that contains a symbol table. For more information, see <a href="#public-symbols">Public symbols</a>.</li>
<li>Debug: Contains everything that a public symbol file contains, and full debugging information that you can use for more in-depth debugging. For more information, see <a href="#debugging-symbols">Debugging symbols</a>.</li>
</ul>

<p>You can generate symbol files for the following libraries:</p>

<ul>
<li>
<code>libmain</code>: Responsible for initial Unity engine loading logic.</li>
<li>
<code>libunity</code>: Unity’s engine code.</li>
<li>
<code>libil2cpp</code>: Contains C# scripts from the project converted to C++ code.</li>
</ul>

<p>Unity generates the <code>libmain</code> and <code>libunity</code> symbol files. <a href="android-gradle-overview.html">Gradle</a> generates the <code>libil2cpp</code> symbol file.</p>

<p><a name="public-symbols"></a></p>

<h2>Public symbols</h2>

<p>A public symbol file contains information that resolves function addresses to human-readable strings. Unity uses the <code>--strip-debug</code> parameter to create public symbols that remove more in-depth debug information. This makes public symbol files and packages smaller than <a href="#debugging-symbols">debugging symbol</a> files and packages.</p>

<p>Public symbol files use the <code>.sym.so</code> file extension.</p>

<p><a name="debugging-symbols"></a></p>

<h2>Debugging symbols</h2>

<p>A debugging symbol file contains full debugging information and a symbol table. Use it to:</p>

<ul>
<li>Resolve stack traces and to debug applications that you have source code available for.</li>
<li>Attach a native debugger to the application and debug the code.</li>
</ul>

<p>Unity uses the <code>--only-keep-debug</code> parameter to create debugging symbols. For more information, see <a href="https://man7.org/linux/man-pages/man1/objcopy.1.html">–only-keep-debug</a> in the Linux user manual.</p>

<p>Debugging symbol files use the <code>.dbg.so</code> file extension.</p>

<p><strong>Note:</strong> If debugging symbols aren’t available, Unity places a <a href="#public-symbols">public symbol</a> file in your project at build time. For the <code>libmain</code> and <code>libunity</code> libraries, debugging symbols are not available and Unity always generates public symbol files.</p>

<h2>Generating a symbols package</h2>

<p>To enable symbols package generation for your application:</p>

<ol>
<li>Open the Build Settings window (menu: <strong>File</strong> &gt; <strong>Build Settings</strong>).</li>
<li>Click <strong>Player Settings</strong>. This opens the Player Settings window.</li>
<li>Select the Android settings tab and go to <strong>Other Settings</strong> &gt; <strong>Configuration</strong>.</li>
<li>Set <strong>Scripting Backend</strong> to <strong>IL2CPP</strong>.</li>
<li>Exit the Player Settings window and go back to the Build Settings window.</li>
<li>Select the <strong>Android</strong> platform from the <strong>Platform</strong> list.</li>
<li>Enable <strong>Create symbols.zip</strong>.</li>
</ol>

<p>After you enable symbols package generation, building your project generates a <code>.zip</code> file that contains symbol files for the <code>libmain</code>, <code>libunity</code>, and <code>libil2cpp</code> libraries. Unity generates both public and debugging symbols for the <code>libil2cpp</code> library, and public symbols for the <code>libmain</code> and <code>libunity</code> libraries. Unity places this symbols package within the output directory.</p>

<p>If you enable <strong>Export Project</strong> in the Android Build Settings, Unity doesn’t build the project or generate symbols when you run the build process. Instead, it exports the project for Android Studio and creates an empty directory at <code>unityLibrary/symbols</code> in the output directory. . When you build your exported project from Android Studio, Gradle generates the <code>libil2cpp</code> symbol file and places it within the <code>unityLibrary/symbols/&lt;architecture&gt;/</code> directory. To get the <code>libmain</code> and <code>libunity</code> symbol files and complete the symbols package, you must manually find and copy them into the <code>unityLibrary/symbols/&lt;architecture&gt;/</code> directory. Their location depends on whether you enable the <strong>Strip Engine Code</strong> Player Setting:</p>

<ul>
<li>Strip Engine Code enabled:</li>
<li>
<code>libunity</code>: <code>&lt;project-path&gt;/Temp/StagingArea/symbols/&lt;architecture&gt;/</code>.
<strong>Note</strong>: Unity removes the <code>Temp</code> directory when you close the Editor. This means you must copy/move the symbol files after you export the project but before you close the Editor.</li>
<li>
<code>libmain</code>: <code>&lt;editor&gt;/PlaybackEngines/AndroidPlayer/Variations/&lt;scripting backend&gt;/&lt;build type&gt;/Symbols/&lt;architecture&gt;/</code>
</li>
<li>Strip Engine Code disabled:</li>
<li>
<code>libunity</code> and <code>libmain</code>: <code>&lt;editor&gt;/PlaybackEngines/AndroidPlayer/Variations/&lt;scripting backend&gt;/&lt;build type&gt;/Symbols/&lt;architecture&gt;/</code>
</li>
</ul>

<p>Before you use a public or debugging symbol file, you must remove part of the file extension. For public symbol files, this is <code>.sym</code>. For debugging symbol files, this is <code>.dbg</code>.</p>

<hr>

<h2>Using symbols in the Google Play console</h2>

<p>After you upload your application to Google Play, you can upload a <a href="#public-symbols">public symbols</a> package for it. For information on how to do this, see Google’s documentation: <a href="https://support.google.com/googleplay/android-developer/answer/9848633">Deobfuscate or symbolicate crash stack traces</a>.</p>

<p><strong>Note:</strong> Google Play doesn’t symbolicate crashes that your application received before you uploaded the symbols package.</p>
<!-- area:platforms -->
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="android-AppPatching.html"></a></span><div class="tip">为应用程序打补丁以实现快速开发迭代</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="Android-SinglePassStereoRendering.html"></a></span><div class="tip">Android 单通道立体渲染</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2021 Unity Technologies. Publication 2020.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
